# Versión del runtime de Node.js que usará tu backend.
runtime: nodejs20

# Comandos que se ejecutarán para construir y lanzar tu aplicación.
run:
  - npm install
  - npm run build

# Variables de entorno públicas.
envs:
  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    value: "veterinariaconcepcion-86d83.firebaseapp.com"
    availability: [BUILD, RUNTIME]
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: "veterinariaconcepcion-86d83"
    availability: [BUILD, RUNTIME]
  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    value: "veterinariaconcepcion-86d83.appspot.com"
    availability: [BUILD, RUNTIME]
  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: "892958021638"
    availability: [BUILD, RUNTIME]
  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    value: "1:892958021638:web:bbee139c840dd8917fcb87"
    availability: [BUILD, RUNTIME]
  - variable: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
    value: "G-KS0RV4N77V"
    availability: [BUILD, RUNTIME]

# Credenciales secretas.
# Se cargan de forma segura desde Google Secret Manager.
secrets:
  # Clave de API de Firebase. Se inyecta como variable de entorno.
  - name: NEXT_PUBLIC_FIREBASE_API_KEY
    secret: firebase-api-key # Este es el único secreto de Firebase que necesitas.
    availability: [BUILD, RUNTIME]